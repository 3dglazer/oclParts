//compute hash bucket index in [0,NUM_BUCKETS-1]int32 getCellIndex (int32 cellpos_x,int32 cellpos_y, int32 cellpos_z){const int32 h1 = 0x8da6b343; //Large primesconst int32 h2 = 0xd8163841;const int32 h3 = 0xcb1ab31f;int32 n = h1*cellpos_x + h2*cellpos_y + h3*cellpos_z;n = n%NUM_BUCKETS;if (n<0) n+=NUM_BUCKETS;return n;}//Example from Christer Ericson’s book ”Real-time collision detection”.